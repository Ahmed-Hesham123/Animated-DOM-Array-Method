const main=document.getElementById("main"),addUserBtn=document.getElementById("add-user"),doubleBtn=document.getElementById("double"),showMillionairesBtn=document.getElementById("show-millionaires"),sortBtn=document.getElementById("sort"),calculateWealthBtn=document.getElementById("calculate-wealth");let data=[];async function getRandomUser(){let e=await fetch("https://randomuser.me/api"),t=await e.json(),n=t.results[0],a={name:`${n.name.first} ${n.name.last}`,money:Math.floor(1e6*Math.random())};addData(a)}function doubleMoney(){data=data.map(e=>({...e,money:2*e.money})),updateDOM()}function sortByRichest(){data.sort((e,t)=>t.money-e.money),updateDOM()}function showMillionaires(){data=data.filter(e=>e.money>=1e6),updateDOM()}function calculateWealth(){let e=data.reduce((e,t)=>e+=t.money,0),t=document.createElement("div");t.innerHTML=`<h3>Total Wealth: <strong>${formatMoney(e)}</strong></h3>`,main.appendChild(t)}function addData(e){data.push(e),updateDOM()}function updateDOM(e=data){main.innerHTML="<h2><strong>Person</strong> Wealth</h2>",e.forEach(e=>{let t=document.createElement("div");t.classList.add("person"),t.innerHTML=`<strong>${e.name}</strong> ${formatMoney(e.money)}`,main.appendChild(t)})}function formatMoney(e){return"$"+e.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}addUserBtn.addEventListener("click",getRandomUser),doubleBtn.addEventListener("click",doubleMoney),sortBtn.addEventListener("click",sortByRichest),showMillionairesBtn.addEventListener("click",showMillionaires),calculateWealthBtn.addEventListener("click",calculateWealth);